(()=>{var e={};e.id=931,e.ids=[931],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},6230:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(9442),a=r(42),o=r(8190),n=r.n(o),i=r(3289),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9306)),"C:\\Users\\maw00\\work\\Master of DPU Course\\CT669\\CT669\\fe-shopping\\src\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,29)),"C:\\Users\\maw00\\work\\Master of DPU Course\\CT669\\CT669\\fe-shopping\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,6042,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\maw00\\work\\Master of DPU Course\\CT669\\CT669\\fe-shopping\\src\\app\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8563:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6472,23)),Promise.resolve().then(r.t.bind(r,2461,23)),Promise.resolve().then(r.t.bind(r,8190,23)),Promise.resolve().then(r.t.bind(r,5282,23)),Promise.resolve().then(r.t.bind(r,6613,23)),Promise.resolve().then(r.t.bind(r,5486,23)),Promise.resolve().then(r.t.bind(r,8825,23))},6187:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2144,23)),Promise.resolve().then(r.t.bind(r,2302,23)),Promise.resolve().then(r.t.bind(r,3582,23)),Promise.resolve().then(r.t.bind(r,9587,23)),Promise.resolve().then(r.t.bind(r,5329,23)),Promise.resolve().then(r.t.bind(r,599,23)),Promise.resolve().then(r.t.bind(r,2118,23))},8872:()=>{},6133:()=>{},7202:(e,t,r)=>{Promise.resolve().then(r.bind(r,9306))},9257:(e,t,r)=>{Promise.resolve().then(r.bind(r,2330))},2330:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(6493),a=r(89),o=r(3606),n=r(4971),i=r(4773);let l=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card",o.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",o.forwardRef(({className:e,...t},r)=>(0,s.jsx)("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",o.forwardRef(({className:e,...t},r)=>(0,s.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let d=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",o.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";var c=r(8113);function u({updateCartCount:e,searchQuery:t}){let[r,a]=(0,o.useState)([]),[i,u]=(0,o.useState)(!0),[p,m]=(0,o.useState)(null),[h,f]=(0,o.useState)(1),x=localStorage.getItem("20b6c672f3f1"),g=async t=>{try{let r=await fetch("http://localhost:4000/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:x,productId:t,quantity:1})});if(!r.ok)throw Error(`Failed to add to cart: ${r.statusText}`);e()}catch(e){console.error("Error adding to cart:",e)}},v=6*h,b=r.slice(v-6,v),j=Math.ceil(r.length/6);return i?(0,s.jsx)("p",{children:"Loading..."}):p?(0,s.jsxs)("p",{children:["Error: ",p]}):(0,s.jsxs)("section",{className:"container flex flex-col items-center gap-6 py-24 sm:gap-7",children:[(0,s.jsx)("div",{className:"flex flex-col gap-3",children:(0,s.jsx)("h2",{className:"font-heading text-3xl font-semibold tracking-tight sm:text-4xl text-center",children:"Shopping Cart"})}),(0,s.jsx)("div",{className:"mt-6 grid auto-rows-fr grid-cols-1 gap-7 sm:grid-cols-2 lg:grid-cols-3",children:b.map(e=>(0,s.jsx)("div",{children:(0,s.jsx)(l,{className:"h-full shadow-lg",children:(0,s.jsxs)(d,{className:"flex h-full flex-col items-start gap-5 p-5",children:[(0,s.jsx)("div",{className:"relative h-52 w-full",children:(0,s.jsx)(n.default,{alt:e.description,src:e.thumbnail,fill:!0,className:"object-cover rounded-lg"})}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold",children:e.title}),(0,s.jsxs)("p",{className:"text-lg font-semibold",children:["$",Number(e.price).toFixed(2)]}),(0,s.jsx)("p",{className:"mb-auto text-muted-foreground",children:e.description}),(0,s.jsx)("div",{className:"flex items-center gap-3 justify-center",children:(0,s.jsx)(c.z,{onClick:()=>g(e.id),children:"Add to Cart"})})]})]})})},e.id))}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-6",children:[(0,s.jsx)(c.z,{onClick:()=>{h>1&&f(h-1)},disabled:1===h,children:"Previous"}),(0,s.jsxs)("span",{children:["Page ",h," of ",j]}),(0,s.jsx)(c.z,{onClick:()=>{h<j&&f(h+1)},disabled:h===j,children:"Next"})]})]})}function p({setSearchQuery:e}){let[t,r]=(0,o.useState)(""),a=()=>{e(t),console.log("Search query received:",t)};return(0,s.jsxs)("form",{className:"flex items-center space-x-2 justify-center",onSubmit:e=>{e.preventDefault(),a()},children:[(0,s.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Search...",className:"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,s.jsx)(c.z,{type:"submit",className:"mt-2",children:"Search"})]})}function m(){let[e,t]=(0,o.useState)(0),[r,n]=(0,o.useState)(""),[i,l]=(0,o.useState)(null),d=async()=>{if(i){console.log("Call Data");try{let e=await fetch("http://localhost:4000/cart/"+i);if(!e.ok)throw Error(`Failed to fetch cart data: ${e.statusText}`);let r=(await e.json()).items.reduce((e,t)=>e+t.quantity,0);t(r),console.log("totalQuantity cart data:",r)}catch(e){console.error("Error fetching cart data:",e)}}};return i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h,{totalItems:e}),(0,s.jsx)(p,{setSearchQuery:n}),(0,s.jsx)(u,{updateCartCount:d,searchQuery:r})]}):(0,s.jsx)("div",{children:"Loading..."})}},89:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var s=r(6493),a=r(5723),o=r(4971),n=r(8113);function i({totalItems:e}){return(0,s.jsxs)("header",{className:"container flex items-center justify-between gap-10 py-4",children:[(0,s.jsx)(a.default,{href:"/",className:"flex items-center gap-3"}),(0,s.jsx)("div",{className:"flex items-center gap-10",children:(0,s.jsxs)("div",{className:"hidden items-center md:flex gap-10",children:[(0,s.jsxs)("a",{href:"/cart-list",className:"relative flex md-2 text-red-500",children:[(0,s.jsx)(o.default,{alt:"Image",src:"/images/istockphoto-1206806317-612x612.jpg",width:100,height:50,blurDataURL:"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.istockphoto.com%2Fphotos%2Fcart&psig=AOvVaw1wMq-VvWybOuaS0Y8AjBUF&ust=1729902561598000&source=images&cd=vfe&opi=89978449&ved=0CBEQjRxqFwoTCLjhmq6jqIkDFQAAAAAdAAAAABAE",placeholder:"blur",className:"flex justify-end"}),(0,s.jsx)("span",{children:e})]}),(0,s.jsx)(n.z,{asChild:!0,children:(0,s.jsx)(a.default,{href:"/login",className:"cursor-pointer w-full",onClick:()=>{localStorage.clear()},children:"LOGOUT"})}),(0,s.jsx)(n.z,{asChild:!0,children:(0,s.jsx)(a.default,{href:"/",className:"cursor-pointer w-full",children:"Home"})})]})})]})}},8113:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(6493),a=r(3606),o=r(9762),n=r(8917),i=r(4773);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},d)=>{let c=a?o.g7:"button";return(0,s.jsx)(c,{className:(0,i.cn)(l({variant:t,size:r,className:e})),ref:d,...n})});d.displayName="Button"},4773:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var s=r(6307),a=r(8132);function o(...e){return(0,a.m6)((0,s.W)(e))}},29:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var s=r(7705),a=r(5525),o=r.n(a),n=r(4343),i=r.n(n);r(5023);var l=r(5945),d=r(9710);let c={title:"Shopping Order Page",description:"Shopping Order Page With Next App"};function u({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:function(...e){return(0,d.m6)((0,l.W)(e))}("min-h-screen font-sans antialiased",o().variable,i().variable),children:e})})}},9306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8105).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\maw00\\\\work\\\\Master of DPU Course\\\\CT669\\\\CT669\\\\fe-shopping\\\\src\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\maw00\\work\\Master of DPU Course\\CT669\\CT669\\fe-shopping\\src\\app\\page.tsx","default")},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(5394);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[492,230,539,971],()=>r(6230));module.exports=s})();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2765:(e,t,r)=>{Promise.resolve().then(r.bind(r,292))},292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(7437),s=r(6723),l=r(2265),c=r(6648),o=r(9354);let n=l.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card",l.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...s})}).displayName="CardHeader",l.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})}).displayName="CardTitle",l.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let i=l.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...s})});i.displayName="CardContent",l.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter";var d=r(9733);function u(e){let{updateCartCount:t,searchQuery:r}=e,[s,o]=(0,l.useState)([]),[u,f]=(0,l.useState)(!0),[h,x]=(0,l.useState)(null),[m,g]=(0,l.useState)(1),p=localStorage.getItem("20b6c672f3f1");(0,l.useEffect)(()=>{(async()=>{f(!0);let e=r?"?product=".concat(r):"?product=GetAllData";try{let t=await fetch("http://3.0.50.174:4000/products/search".concat(e));if(!t.ok)throw Error("Failed to fetch data: ".concat(t.statusText));let r=await t.json();o(r)}catch(e){x(e.message)}finally{f(!1)}})()},[r]),(0,l.useEffect)(()=>{console.log("Search query received in BlogSection:",r)},[r]);let j=async e=>{try{let r=await fetch("http://3.0.50.174:4000/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:p,productId:e,quantity:1})});if(!r.ok)throw Error("Failed to add to cart: ".concat(r.statusText));t()}catch(e){console.error("Error adding to cart:",e)}},v=6*m,y=s.slice(v-6,v),N=Math.ceil(s.length/6);return u?(0,a.jsx)("p",{children:"Loading..."}):h?(0,a.jsxs)("p",{children:["Error: ",h]}):(0,a.jsxs)("section",{className:"container flex flex-col items-center gap-6 py-24 sm:gap-7",children:[(0,a.jsx)("div",{className:"flex flex-col gap-3",children:(0,a.jsx)("h2",{className:"font-heading text-3xl font-semibold tracking-tight sm:text-4xl text-center",children:"Shopping Cart"})}),(0,a.jsx)("div",{className:"mt-6 grid auto-rows-fr grid-cols-1 gap-7 sm:grid-cols-2 lg:grid-cols-3",children:y.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)(n,{className:"h-full shadow-lg",children:(0,a.jsxs)(i,{className:"flex h-full flex-col items-start gap-5 p-5",children:[(0,a.jsx)("div",{className:"relative h-52 w-full",children:(0,a.jsx)(c.default,{alt:e.description,src:e.thumbnail,fill:!0,className:"object-cover rounded-lg"})}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-4",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold",children:e.title}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:["$",Number(e.price).toFixed(2)]}),(0,a.jsx)("p",{className:"mb-auto text-muted-foreground",children:e.description}),(0,a.jsx)("div",{className:"flex items-center gap-3 justify-center",children:(0,a.jsx)(d.z,{onClick:()=>j(e.id),children:"Add to Cart"})})]})]})})},e.id))}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-6",children:[(0,a.jsx)(d.z,{onClick:()=>{m>1&&g(m-1)},disabled:1===m,children:"Previous"}),(0,a.jsxs)("span",{children:["Page ",m," of ",N]}),(0,a.jsx)(d.z,{onClick:()=>{m<N&&g(m+1)},disabled:m===N,children:"Next"})]})]})}function f(e){let{setSearchQuery:t}=e,[r,s]=(0,l.useState)(""),c=()=>{t(r),console.log("Search query received:",r)};return(0,a.jsxs)("form",{className:"flex items-center space-x-2 justify-center",onSubmit:e=>{e.preventDefault(),c()},children:[(0,a.jsx)("input",{type:"text",value:r,onChange:e=>s(e.target.value),placeholder:"Search...",className:"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,a.jsx)(d.z,{type:"submit",className:"mt-2",children:"Search"})]})}function h(){let[e,t]=(0,l.useState)(0),[r,c]=(0,l.useState)(""),[o,n]=(0,l.useState)(null);(0,l.useEffect)(()=>{{let e=localStorage.getItem("20b6c672f3f1");e?n(e):(console.error("User ID is null. Redirecting to login..."),window.location.href="/login")}},[]);let i=async()=>{if(o){console.log("Call Data");try{let e=await fetch("http://3.0.50.174:4000/cart/"+o);if(!e.ok)throw Error("Failed to fetch cart data: ".concat(e.statusText));let r=(await e.json()).items.reduce((e,t)=>e+t.quantity,0);t(r),console.log("totalQuantity cart data:",r)}catch(e){console.error("Error fetching cart data:",e)}}};return((0,l.useEffect)(()=>{o&&i()},[o]),(0,l.useEffect)(()=>{console.log("Search query in HomePage:",r)},[r]),o)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h,{totalItems:e}),(0,a.jsx)(f,{setSearchQuery:c}),(0,a.jsx)(u,{updateCartCount:i,searchQuery:r})]}):(0,a.jsx)("div",{children:"Loading..."})}},6723:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});var a=r(7437),s=r(7138),l=r(6648),c=r(9733);function o(e){let{totalItems:t}=e;return(0,a.jsxs)("header",{className:"container flex items-center justify-between gap-10 py-4",children:[(0,a.jsx)(s.default,{href:"/",className:"flex items-center gap-3"}),(0,a.jsx)("div",{className:"flex items-center gap-10",children:(0,a.jsxs)("div",{className:"hidden items-center md:flex gap-10",children:[(0,a.jsxs)("a",{href:"/cart-list",className:"relative flex md-2 text-red-500",children:[(0,a.jsx)(l.default,{alt:"Image",src:"/images/istockphoto-1206806317-612x612.jpg",width:100,height:50,blurDataURL:"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.istockphoto.com%2Fphotos%2Fcart&psig=AOvVaw1wMq-VvWybOuaS0Y8AjBUF&ust=1729902561598000&source=images&cd=vfe&opi=89978449&ved=0CBEQjRxqFwoTCLjhmq6jqIkDFQAAAAAdAAAAABAE",placeholder:"blur",className:"flex justify-end"}),(0,a.jsx)("span",{children:t})]}),(0,a.jsx)(c.z,{asChild:!0,children:(0,a.jsx)(s.default,{href:"/login",className:"cursor-pointer w-full",onClick:()=>{localStorage.clear()},children:"LOGOUT"})}),(0,a.jsx)(c.z,{asChild:!0,children:(0,a.jsx)(s.default,{href:"/",className:"cursor-pointer w-full",children:"Home"})})]})})]})}},9733:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var a=r(7437),s=r(2265),l=r(2974),c=r(2218),o=r(9354);let n=(0,c.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,t)=>{let{className:r,variant:s,size:c,asChild:i=!1,...d}=e,u=i?l.g7:"button";return(0,a.jsx)(u,{className:(0,o.cn)(n({variant:s,size:c,className:r})),ref:t,...d})});i.displayName="Button"},9354:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(4839),s=r(6164);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[533,648,130,215,744],()=>t(2765)),_N_E=e.O()}]);